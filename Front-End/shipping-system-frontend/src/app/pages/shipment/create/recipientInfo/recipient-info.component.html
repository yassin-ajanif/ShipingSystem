<div class="recipient-info-container">
  <form [formGroup]="recipientForm" class="recipient-form">
    <!-- Recipient's Name -->
    <mat-form-field appearance="outline" class="form-field full-width">
      <mat-label>{{ 'shipmentCreate.recipientInfo.recipientName.label' | translate }}</mat-label>
      <input
        matInput
        [placeholder]="'shipmentCreate.recipientInfo.recipientName.placeholder' | translate"
        formControlName="recipientName"
        type="text">
      <mat-error *ngIf="recipientForm.get('recipientName')?.invalid && recipientForm.get('recipientName')?.touched">
        {{ 'shipmentCreate.recipientInfo.errors.recipientNameRequired' | translate }}
      </mat-error>
    </mat-form-field>

    <!-- Address -->
    <mat-form-field appearance="outline" class="form-field full-width">
      <mat-label>{{ 'shipmentCreate.recipientInfo.address.label' | translate }}</mat-label>
      <input
        matInput
        [placeholder]="'shipmentCreate.recipientInfo.address.placeholder' | translate"
        formControlName="address"
        type="text">
      <mat-error *ngIf="recipientForm.get('address')?.invalid && recipientForm.get('address')?.touched">
        {{ 'shipmentCreate.recipientInfo.errors.addressRequired' | translate }}
      </mat-error>
    </mat-form-field>

    <!-- City and Country Row -->
    <div class="form-row">
      <mat-form-field appearance="outline" class="form-field half-width">
        <mat-label>{{ 'shipmentCreate.recipientInfo.country.label' | translate }}</mat-label>
        <mat-select formControlName="countryId" [placeholder]="'shipmentCreate.recipientInfo.country.placeholder' | translate">
          <mat-option *ngFor="let country of countries()" [value]="country.id">
            {{ country.countryEName || country.countryAName }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="recipientForm.get('countryId')?.invalid && recipientForm.get('countryId')?.touched">
          {{ 'shipmentCreate.recipientInfo.errors.countryRequired' | translate }}
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="form-field half-width">
        <mat-label>{{ 'shipmentCreate.recipientInfo.city.label' | translate }}</mat-label>
        <mat-select formControlName="cityId" [placeholder]="'shipmentCreate.recipientInfo.city.placeholder' | translate">
          <mat-option *ngFor="let city of cities()" [value]="city.id">
            {{ city.cityEName || city.cityAName }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="recipientForm.get('cityId')?.invalid && recipientForm.get('cityId')?.touched">
          {{ 'shipmentCreate.recipientInfo.errors.cityRequired' | translate }}
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Phone Number -->
    <mat-form-field appearance="outline" class="form-field full-width">
      <mat-label>{{ 'shipmentCreate.recipientInfo.phoneNumber.label' | translate }}</mat-label>
      <input
        matInput
        [placeholder]="'shipmentCreate.recipientInfo.phoneNumber.placeholder' | translate"
        formControlName="phoneNumber"
        type="tel">
      <mat-error *ngIf="recipientForm.get('phoneNumber')?.invalid && recipientForm.get('phoneNumber')?.touched">
        {{ recipientForm.get('phoneNumber')?.hasError('pattern')
            ? ('shipmentCreate.recipientInfo.errors.phoneNumberInvalid' | translate)
            : ('shipmentCreate.recipientInfo.errors.phoneNumberRequired' | translate) }}
      </mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="outline" class="form-field full-width">
      <mat-label>{{ 'shipmentCreate.recipientInfo.email.label' | translate }}</mat-label>
      <input
        matInput
        [placeholder]="'shipmentCreate.recipientInfo.email.placeholder' | translate"
        formControlName="email"
        type="email">
      <mat-error *ngIf="recipientForm.get('email')?.invalid && recipientForm.get('email')?.touched">
        {{ recipientForm.get('email')?.hasError('email')
            ? ('shipmentCreate.recipientInfo.errors.emailInvalid' | translate)
            : ('shipmentCreate.recipientInfo.errors.emailRequired' | translate) }}
      </mat-error>
    </mat-form-field>
  </form>
</div>
